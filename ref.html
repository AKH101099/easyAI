<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Reference Manual &#8212; easyAI 1.0.0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="AI Class Descriptions" href="ai_descriptions.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ai_descriptions.html" title="AI Class Descriptions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">easyAI 1.0.0.2 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="reference-manual">
<h1>Reference Manual<a class="headerlink" href="#reference-manual" title="Permalink to this headline">¶</a></h1>
<div class="section" id="games">
<h2>Games<a class="headerlink" href="#games" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="easyAI.TwoPlayersGame">
<em class="property">class </em><code class="descclassname">easyAI.</code><code class="descname">TwoPlayersGame</code><a class="reference internal" href="_modules/easyAI/TwoPlayersGame.html#TwoPlayersGame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.TwoPlayersGame" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for... wait for it... two-players games !</p>
<p>To define a new game, make a subclass of TwoPlayersGame, and define
the following methods:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">__init__(self,</span> <span class="pre">players,</span> <span class="pre">...)</span></code> : initialization of the game</li>
<li><code class="docutils literal"><span class="pre">possible_moves(self)</span></code> : returns of all moves allowed</li>
<li><code class="docutils literal"><span class="pre">make_move(self,</span> <span class="pre">move)</span></code>: transforms the game according to the move</li>
<li><code class="docutils literal"><span class="pre">is_over(self)</span></code>: check whether the game has ended</li>
</ul>
<p>The following methods are optional:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">show(self)</span></code> : prints/displays the game</li>
<li><code class="docutils literal"><span class="pre">scoring</span></code>: gives a score to the current game (for the AI)</li>
<li><code class="docutils literal"><span class="pre">unmake_move(self,</span> <span class="pre">move)</span></code>: how to unmake a move (speeds up the AI)</li>
<li><code class="docutils literal"><span class="pre">ttentry(self)</span></code>: returns a string/tuple describing the game.</li>
<li><code class="docutils literal"><span class="pre">ttrestore(self,</span> <span class="pre">entry)</span></code>: use string/tuple from ttentry to restore a game.</li>
</ul>
<p>The __init__ method <em>must</em> do the following actions:</p>
<ul class="simple">
<li>Store <code class="docutils literal"><span class="pre">players</span></code> (which must be a list of two Players) into
self.players</li>
<li>Tell which player plays first with <code class="docutils literal"><span class="pre">self.nplayer</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">#</span> <span class="pre">or</span> <span class="pre">2</span></code></li>
</ul>
<p>When defining <code class="docutils literal"><span class="pre">possible_moves</span></code>, you must keep in mind that you
are in the scope of the <em>current player</em>. More precisely, a    
subclass of TwoPlayersGame has the following attributes that
indicate whose turn it is. These methods can be used but should not
be overwritten:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self.player</span></code> : the current player (e.g. <code class="docutils literal"><span class="pre">Human_Player</span></code>)</li>
<li><code class="docutils literal"><span class="pre">self.opponent</span></code> : the current Player&#8217;s opponent (Player).</li>
<li><code class="docutils literal"><span class="pre">self.nplayer</span></code>: the number (1 or 2) of the current player.</li>
<li><code class="docutils literal"><span class="pre">self.nopponent</span></code>: the number (1 or 2) of the opponent.</li>
<li><code class="docutils literal"><span class="pre">self.nmove</span></code>: How many moves have been played so far ?</li>
</ul>
<p>For more, see the examples in the dedicated folder.</p>
<dl class="method">
<dt id="easyAI.TwoPlayersGame.get_move">
<code class="descname">get_move</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/TwoPlayersGame.html#TwoPlayersGame.get_move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.TwoPlayersGame.get_move" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for getting a move from the current player. If the player is an
AI_Player, then this method will invoke the AI algorithm to choose the
move. If the player is a Human_Player, then the interaction with the
human is via the text terminal.</p>
</dd></dl>

<dl class="method">
<dt id="easyAI.TwoPlayersGame.play">
<code class="descname">play</code><span class="sig-paren">(</span><em>nmoves=1000</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/TwoPlayersGame.html#TwoPlayersGame.play"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.TwoPlayersGame.play" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for starting the play of a game to completion. If one of the
players is a Human_Player, then the interaction with the human is via
the text terminal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>nmoves:</strong></p>
<blockquote>
<div><p>The limit of how many moves (plies) to play unless the game ends on
it&#8217;s own first.</p>
</div></blockquote>
<p><strong>verbose:</strong></p>
<blockquote class="last">
<div><p>Setting verbose=True displays additional text messages.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="easyAI.TwoPlayersGame.play_move">
<code class="descname">play_move</code><span class="sig-paren">(</span><em>move</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/TwoPlayersGame.html#TwoPlayersGame.play_move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.TwoPlayersGame.play_move" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for playing one move with the current player. After making the move,
the current player will change to the next player.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>move:</strong></p>
<blockquote class="last">
<div><p>The move to be played. <code class="docutils literal"><span class="pre">move</span></code> should match an entry in the <code class="docutils literal"><span class="pre">.possibles_moves()</span></code> list.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="players">
<h2>Players<a class="headerlink" href="#players" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="easyAI.Human_Player">
<em class="property">class </em><code class="descclassname">easyAI.</code><code class="descname">Human_Player</code><span class="sig-paren">(</span><em>name='Human'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/Player.html#Human_Player"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.Human_Player" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for a human player, which gets asked by text what moves
she wants to play. She can type <code class="docutils literal"><span class="pre">show</span> <span class="pre">moves</span></code> to display a list of
moves, or <code class="docutils literal"><span class="pre">quit</span></code> to quit the game.</p>
</dd></dl>

<dl class="class">
<dt id="easyAI.AI_Player">
<em class="property">class </em><code class="descclassname">easyAI.</code><code class="descname">AI_Player</code><span class="sig-paren">(</span><em>AI_algo</em>, <em>name='AI'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/Player.html#AI_Player"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI_Player" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for an AI player. This class must be initialized with an
AI algortihm, like <code class="docutils literal"><span class="pre">AI_Player(</span> <span class="pre">Negamax(9)</span> <span class="pre">)</span></code></p>
</dd></dl>

</div>
<div class="section" id="ai-algorithms">
<h2>AI algorithms<a class="headerlink" href="#ai-algorithms" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="easyAI.AI.Negamax">
<em class="property">class </em><code class="descclassname">easyAI.AI.</code><code class="descname">Negamax</code><span class="sig-paren">(</span><em>depth</em>, <em>scoring=None</em>, <em>win_score=inf</em>, <em>tt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/AI/Negamax.html#Negamax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI.Negamax" title="Permalink to this definition">¶</a></dt>
<dd><p>This implements Negamax on steroids. The following example shows
how to setup the AI and play a Connect Four game:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">easyAI.games</span> <span class="k">import</span> <span class="n">ConnectFour</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">easyAI</span> <span class="k">import</span> <span class="n">Negamax</span><span class="p">,</span> <span class="n">Human_Player</span><span class="p">,</span> <span class="n">AI_Player</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoring</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">game</span><span class="p">:</span> <span class="o">-</span><span class="mi">100</span> <span class="k">if</span> <span class="n">game</span><span class="o">.</span><span class="n">lose</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ai_algo</span> <span class="o">=</span> <span class="n">Negamax</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">scoring</span><span class="p">)</span> <span class="c1"># AI will think 8 turns in advance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">game</span> <span class="o">=</span> <span class="n">ConnectFour</span><span class="p">([</span><span class="n">Human_Player</span><span class="p">(),</span> <span class="n">AI_Player</span><span class="p">(</span><span class="n">ai_algo</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">game</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>depth:</strong></p>
<blockquote>
<div><p>How many moves in advance should the AI think ?
(2 moves = 1 complete turn)</p>
</div></blockquote>
<p><strong>scoring:</strong></p>
<blockquote>
<div><dl class="docutils">
<dt>A function f(game)-&gt; score. If no scoring is provided</dt>
<dd><p class="first last">and the game object has a <code class="docutils literal"><span class="pre">scoring</span></code> method it ill be used.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>win_score:</strong></p>
<blockquote>
<div><dl class="docutils">
<dt>Score above which the score means a win. This will be</dt>
<dd><p class="first last">used to speed up computations if provided, but the AI will not
differentiate quick defeats from long-fought ones (see next
section).</p>
</dd>
</dl>
</div></blockquote>
<p><strong>tt:</strong></p>
<blockquote class="last">
<div><p>A transposition table (a table storing game states and moves)
scoring: can be none if the game that the AI will be given has a
<code class="docutils literal"><span class="pre">scoring</span></code> method.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The score of a given game is given by</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scoring</span><span class="p">(</span><span class="n">current_game</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span><span class="o">*</span><span class="n">sign</span><span class="o">*</span><span class="n">current_depth</span>
</pre></div>
</div>
<p>for instance if a lose is -100 points, then losing after 4 moves
will score -99.96 points but losing after 8 moves will be -99.92
points. Thus, the AI will chose the move that leads to defeat in
8 turns, which makes it more difficult for the (human) opponent.
This will not always work if a <code class="docutils literal"><span class="pre">win_score</span></code> argument is provided.</p>
</dd></dl>

<dl class="class">
<dt id="easyAI.AI.NonRecursiveNegamax">
<em class="property">class </em><code class="descclassname">easyAI.AI.</code><code class="descname">NonRecursiveNegamax</code><span class="sig-paren">(</span><em>depth</em>, <em>scoring=None</em>, <em>win_score=inf</em>, <em>tt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/AI/NonRecursiveNegamax.html#NonRecursiveNegamax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI.NonRecursiveNegamax" title="Permalink to this definition">¶</a></dt>
<dd><p>This implements Negamax without recursion. The following example shows
how to setup the AI and play a Connect Four game:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">easyAI.games</span> <span class="k">import</span> <span class="n">ConnectFour</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">easyAI</span> <span class="k">import</span> <span class="n">NonRecursiveNegamax</span><span class="p">,</span> <span class="n">Human_Player</span><span class="p">,</span> <span class="n">AI_Player</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoring</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">game</span><span class="p">:</span> <span class="o">-</span><span class="mi">100</span> <span class="k">if</span> <span class="n">game</span><span class="o">.</span><span class="n">lose</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ai_algo</span> <span class="o">=</span> <span class="n">NonRecursiveNegamax</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">scoring</span><span class="p">)</span> <span class="c1"># AI will think 8 turns in advance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">game</span> <span class="o">=</span> <span class="n">ConnectFour</span><span class="p">([</span><span class="n">Human_Player</span><span class="p">(),</span> <span class="n">AI_Player</span><span class="p">(</span><span class="n">ai_algo</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">game</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
</pre></div>
</div>
<p>This algorithm also <em>REQUIRES</em> that the game class support the <code class="docutils literal"><span class="pre">ttentry</span></code> and
<code class="docutils literal"><span class="pre">ttrestore</span></code> methods.</p>
<p>This algorithm ignores any optional <code class="docutils literal"><span class="pre">unmake_move</span></code> method in the game class.</p>
<p>This version of Negamax does not support transposition tables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>depth:</strong></p>
<blockquote>
<div><p>How many moves in advance should the AI think ?
(2 moves = 1 complete turn)</p>
</div></blockquote>
<p><strong>scoring:</strong></p>
<blockquote>
<div><dl class="docutils">
<dt>A function f(game)-&gt; score. If no scoring is provided</dt>
<dd><p class="first last">and the game object has a <code class="docutils literal"><span class="pre">scoring</span></code> method it will be used.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>win_score:</strong></p>
<blockquote>
<div><p>Score above which the score means a win.</p>
</div></blockquote>
<p><strong>tt:</strong></p>
<blockquote class="last">
<div><p>A transposition table (a table storing game states and moves). Currently,
this parameter is ignored.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="easyAI.AI.DUAL">
<em class="property">class </em><code class="descclassname">easyAI.AI.</code><code class="descname">DUAL</code><span class="sig-paren">(</span><em>depth</em>, <em>scoring=None</em>, <em>win_score=100000</em>, <em>tt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/AI/DUAL.html#DUAL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI.DUAL" title="Permalink to this definition">¶</a></dt>
<dd><p>This implements DUAL algorithm. The following example shows
how to setup the AI and play a Connect Four game:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">easyAI</span> <span class="k">import</span> <span class="n">Human_Player</span><span class="p">,</span> <span class="n">AI_Player</span><span class="p">,</span> <span class="n">DUAL</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AI</span> <span class="o">=</span> <span class="n">DUAL</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">game</span> <span class="o">=</span> <span class="n">ConnectFour</span><span class="p">([</span><span class="n">AI_Player</span><span class="p">(</span><span class="n">AI</span><span class="p">),</span><span class="n">Human_Player</span><span class="p">()])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">game</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>depth:</strong></p>
<blockquote>
<div><p>How many moves in advance should the AI think ?
(2 moves = 1 complete turn)</p>
</div></blockquote>
<p><strong>scoring:</strong></p>
<blockquote>
<div><dl class="docutils">
<dt>A function f(game)-&gt; score. If no scoring is provided</dt>
<dd><p class="first last">and the game object has a <code class="docutils literal"><span class="pre">scoring</span></code> method it ill be used.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>win_score:</strong></p>
<blockquote>
<div><p>Score LARGER than the largest score of game, but smaller than inf. 
It&#8217;s required to run algorithm.</p>
</div></blockquote>
<p><strong>tt:</strong></p>
<blockquote class="last">
<div><p>A transposition table (a table storing game states and moves)
scoring: can be none if the game that the AI will be given has a
<code class="docutils literal"><span class="pre">scoring</span></code> method.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The score of a given game is given by</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scoring</span><span class="p">(</span><span class="n">current_game</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span><span class="o">*</span><span class="n">sign</span><span class="o">*</span><span class="n">current_depth</span>
</pre></div>
</div>
<p>for instance if a lose is -100 points, then losing after 4 moves
will score -99.96 points but losing after 8 moves will be -99.92
points. Thus, the AI will chose the move that leads to defeat in
8 turns, which makes it more difficult for the (human) opponent.
This will not always work if a <code class="docutils literal"><span class="pre">win_score</span></code> argument is provided.</p>
</dd></dl>

<dl class="class">
<dt id="easyAI.AI.SSS">
<em class="property">class </em><code class="descclassname">easyAI.AI.</code><code class="descname">SSS</code><span class="sig-paren">(</span><em>depth</em>, <em>scoring=None</em>, <em>win_score=100000</em>, <em>tt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/AI/SSS.html#SSS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI.SSS" title="Permalink to this definition">¶</a></dt>
<dd><p>This implements SSS* algorithm. The following example shows
how to setup the AI and play a Connect Four game:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">easyAI</span> <span class="k">import</span> <span class="n">Human_Player</span><span class="p">,</span> <span class="n">AI_Player</span><span class="p">,</span> <span class="n">SSS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AI</span> <span class="o">=</span> <span class="n">SSS</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">game</span> <span class="o">=</span> <span class="n">ConnectFour</span><span class="p">([</span><span class="n">AI_Player</span><span class="p">(</span><span class="n">AI</span><span class="p">),</span><span class="n">Human_Player</span><span class="p">()])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">game</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>depth:</strong></p>
<blockquote>
<div><p>How many moves in advance should the AI think ?
(2 moves = 1 complete turn)</p>
</div></blockquote>
<p><strong>scoring:</strong></p>
<blockquote>
<div><dl class="docutils">
<dt>A function f(game)-&gt; score. If no scoring is provided</dt>
<dd><p class="first last">and the game object has a <code class="docutils literal"><span class="pre">scoring</span></code> method it ill be used.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>win_score:</strong></p>
<blockquote>
<div><p>Score LARGER than the largest score of game, but smaller than inf. 
It&#8217;s required to run algorithm.</p>
</div></blockquote>
<p><strong>tt:</strong></p>
<blockquote class="last">
<div><p>A transposition table (a table storing game states and moves)
scoring: can be none if the game that the AI will be given has a
<code class="docutils literal"><span class="pre">scoring</span></code> method.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The score of a given game is given by</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scoring</span><span class="p">(</span><span class="n">current_game</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span><span class="o">*</span><span class="n">sign</span><span class="o">*</span><span class="n">current_depth</span>
</pre></div>
</div>
<p>for instance if a lose is -100 points, then losing after 4 moves
will score -99.96 points but losing after 8 moves will be -99.92
points. Thus, the AI will chose the move that leads to defeat in
8 turns, which makes it more difficult for the (human) opponent.
This will not always work if a <code class="docutils literal"><span class="pre">win_score</span></code> argument is provided.</p>
</dd></dl>

</div>
<div class="section" id="transposition-tables">
<h2>Transposition tables<a class="headerlink" href="#transposition-tables" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="easyAI.AI.TT">
<em class="property">class </em><code class="descclassname">easyAI.AI.</code><code class="descname">TT</code><span class="sig-paren">(</span><em>own_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/AI/TT.html#TT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI.TT" title="Permalink to this definition">¶</a></dt>
<dd><p>A tranposition table made out of a Python dictionnary.</p>
<p>It creates a &#8220;cache&#8221; of already resolved moves that can, under
some circumstances, let the algorithm run faster.</p>
<p>This table can be stored to file, allowing games to be stopped
and restarted at a later time. Or, if the game is fully solved,
the cache can return the correct moves nearly instantly because
the AI alogorithm no longer has to compute correct moves.</p>
<p>Transposition tables can only be used on games which have a method
game.ttentry() -&gt; string or tuple</p>
<p>To save the table as a <cite>pickle</cite> file, use the <strong>tofile</strong> and <strong>fromfile</strong>
methods. A pickle file is binary and usually faster. A pickle file
can also be appended to with new cached data. See python&#8217;s pickle
documentation for secuirty issues.</p>
<p>To save the table as a universal JSON file, use the <strong>to_json_file</strong>
and <strong>from_json_file</strong> methods. For these methods, you must explicity
pass <strong>use_tuples=True</strong> if game.ttentry() returns tuples rather than
strings.</p>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">TT</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ai</span> <span class="o">=</span> <span class="n">Negamax</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">scoring</span><span class="p">,</span> <span class="n">tt</span> <span class="o">=</span> <span class="n">table</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ai</span><span class="p">(</span><span class="n">some_game</span><span class="p">)</span> <span class="c1"># computes a move, fills the table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">tofile</span><span class="p">(</span><span class="s1">&#39;saved_tt.data&#39;</span><span class="p">)</span> <span class="c1"># maybe save for later ?</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># later (or in a different program)...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">TT</span><span class="p">()</span><span class="o">.</span><span class="n">fromfile</span><span class="p">(</span><span class="s1">&#39;saved_tt.data&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ai</span> <span class="o">=</span> <span class="n">Negamax</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">scoring</span><span class="p">,</span> <span class="n">tt</span> <span class="o">=</span> <span class="n">table</span><span class="p">)</span>
</pre></div>
</div>
<p>Transposition tables can also be used as an AI (<code class="docutils literal"><span class="pre">AI_player(tt)</span></code>)
but they must be exhaustive in this case: if they are asked for
a position that isn&#8217;t stored in the table, it will lead to an error.</p>
<dl class="method">
<dt id="easyAI.AI.TT.from_json_file">
<code class="descname">from_json_file</code><span class="sig-paren">(</span><em>filename</em>, <em>use_tuples=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/AI/TT.html#TT.from_json_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI.TT.from_json_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a transposition table previously saved with
<code class="docutils literal"><span class="pre">TT.to_json_file</span></code></p>
</dd></dl>

<dl class="method">
<dt id="easyAI.AI.TT.fromfile">
<code class="descname">fromfile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/AI/TT.html#TT.fromfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI.TT.fromfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a transposition table previously saved with
<code class="docutils literal"><span class="pre">TT.tofile</span></code></p>
</dd></dl>

<dl class="method">
<dt id="easyAI.AI.TT.lookup">
<code class="descname">lookup</code><span class="sig-paren">(</span><em>game</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/AI/TT.html#TT.lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI.TT.lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Requests the entry in the table. Returns None if the
entry has not been previously stored in the table.</p>
</dd></dl>

<dl class="method">
<dt id="easyAI.AI.TT.store">
<code class="descname">store</code><span class="sig-paren">(</span><em>**data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/AI/TT.html#TT.store"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI.TT.store" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores an entry into the table</p>
</dd></dl>

<dl class="method">
<dt id="easyAI.AI.TT.to_json_file">
<code class="descname">to_json_file</code><span class="sig-paren">(</span><em>filename</em>, <em>use_tuples=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/AI/TT.html#TT.to_json_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI.TT.to_json_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the transposition table to a serial JSON file. Warning: the file
can be big (~100Mo).</p>
</dd></dl>

<dl class="method">
<dt id="easyAI.AI.TT.tofile">
<code class="descname">tofile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/AI/TT.html#TT.tofile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI.TT.tofile" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the transposition table to a file. Warning: the file
can be big (~100Mo).</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="solving-games">
<h2>Solving Games<a class="headerlink" href="#solving-games" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="easyAI.AI.solving.id_solve">
<code class="descclassname">easyAI.AI.solving.</code><code class="descname">id_solve</code><span class="sig-paren">(</span><em>game</em>, <em>ai_depths</em>, <em>win_score</em>, <em>scoring=None</em>, <em>tt=None</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/AI/solving.html#id_solve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI.solving.id_solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Solves a game using iterative deepening, i.e. determines if by playing
perfectly the first player can force a win, or whether it will always
lose against a perfect opponent.</p>
<p>This algorithm explores the game by using several times the Negamax
algorithm, always starting at the initial state of the game, but
taking increasing depth (in the list ai_depths) until the score of
the initial condition indicates that the first player will certainly
win or loose, in which case it stops.
The use of transposition table leads to speed gain as the results
of shallower searches are used to help exploring the deeper ones.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ai_depths:</strong></p>
<blockquote>
<div><p>List of AI depths to try (e.g. [5,6,7,8,9,10])</p>
</div></blockquote>
<p><strong>win_score:</strong></p>
<blockquote>
<div><p>Score above which a score means a win.</p>
</div></blockquote>
<p><strong>scoring:</strong></p>
<blockquote>
<div><p>Scoring function (see doc of class Negamax)</p>
</div></blockquote>
<p><strong>tt:</strong></p>
<blockquote>
<div><p>An optional transposition table to speed up computations.</p>
</div></blockquote>
<p><strong>verbose:</strong></p>
<blockquote>
<div><p>If set to <code class="docutils literal"><span class="pre">True</span></code>, will print a summary of the best move
after each depth tried.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(result, depth, move):</p>
<blockquote>
<div><p>As below</p>
</div></blockquote>
<p>result:</p>
<blockquote>
<div><p>Either 1 (certain victory of the first player) or -1
(certain defeat) or 0 (either draw, or the search was not
deep enough)</p>
</div></blockquote>
<p>depth:</p>
<blockquote>
<div><p>The minimal number of moves before victory (or defeat)</p>
</div></blockquote>
<p>move:</p>
<blockquote>
<div><p>Best move to play for the first player.</p>
</div></blockquote>
<p>Also returns with <code class="docutils literal"><span class="pre">tt</span></code> set.</p>
<blockquote class="last">
<div><p>Will be None if <code class="docutils literal"><span class="pre">use_tt</span></code> was set to false, else will be a
transposition table containing all the relevant situations to play
a perfect game and can be used with <code class="docutils literal"><span class="pre">AI_player(tt)</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="easyAI.AI.solving.df_solve">
<code class="descclassname">easyAI.AI.solving.</code><code class="descname">df_solve</code><span class="sig-paren">(</span><em>game</em>, <em>win_score</em>, <em>maxdepth=50</em>, <em>tt=None</em>, <em>depth=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/easyAI/AI/solving.html#df_solve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#easyAI.AI.solving.df_solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Solves a game using a depth-first search: the game is explored until
endgames are reached.</p>
<p>The endgames are evaluated to see if there are victories or defeats.
Then, a situation in which every move leads to a defeat is labelled
as a (certain) defeat, and a situation in which one move leads to a
(certain) defeat of the opponent is labelled as a (certain) victory.
Situations are evaluated until the initial condition receives a label
(victory or defeat). Draws are also possible.</p>
<p>This algorithm can be faster but less informative than <code class="docutils literal"><span class="pre">id_solve</span></code>,
as it does not provide &#8216;optimal&#8217; strategies (like shortest path to
the victory). It returns simply 1, 0, or -1 to indicate certain
victory, draw, or defeat of the first player.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>game:</strong></p>
<blockquote>
<div><p>An Game instance, initialized and ready to be played.</p>
</div></blockquote>
<p><strong>win_score:</strong></p>
<blockquote>
<div><p>Score above which a score means a win.</p>
</div></blockquote>
<p><strong>maxdepth:</strong></p>
<blockquote>
<div><p>Maximal recursion depth allowed.</p>
</div></blockquote>
<p><strong>tt:</strong></p>
<blockquote>
<div><p>An optional transposition table to speed up computations.</p>
</div></blockquote>
<p><strong>depth:</strong></p>
<blockquote>
<div><p>Index of the current depth (don&#8217;t touch that).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">result</p>
<blockquote class="last">
<div><p>Either 1 (certain victory of the first player) or -1
(certain defeat) or 0 (either draw, or the search was not
deep enough)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.jpeg" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Reference Manual</a><ul>
<li><a class="reference internal" href="#games">Games</a></li>
<li><a class="reference internal" href="#players">Players</a></li>
<li><a class="reference internal" href="#ai-algorithms">AI algorithms</a></li>
<li><a class="reference internal" href="#transposition-tables">Transposition tables</a></li>
<li><a class="reference internal" href="#solving-games">Solving Games</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="ai_descriptions.html" title="previous chapter">AI Class Descriptions</a></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ref.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; Copyright 2014-2017, Zulko.
    </div>
  </body>
</html>