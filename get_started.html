<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Get Started With easyAI &#8212; easyAI 1.0.0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples Of Use" href="examples/examples.html" />
    <link rel="prev" title="Installation" href="installation.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="examples/examples.html" title="Examples Of Use"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">easyAI 1.0.0.2 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="get-started-with-easyai">
<h1>Get Started With easyAI<a class="headerlink" href="#get-started-with-easyai" title="Permalink to this headline">¶</a></h1>
<p>The best way to get started is to have a look at <a class="reference internal" href="examples/quick_example.html#a-quick-example"><span class="std std-ref">A quick example</span></a>. What follows is a summary of all there is to know about easyAI (you can also find these informations in the documentation of the code).</p>
<div class="section" id="defining-a-game">
<h2>Defining a game<a class="headerlink" href="#defining-a-game" title="Permalink to this headline">¶</a></h2>
<p>To define a new game, make a subclass of the class <code class="docutils literal"><span class="pre">easyAI.TwoPlayersGame</span></code>, and define these methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">__init__(self,</span> <span class="pre">players,</span> <span class="pre">...)</span></code> : initialization of the game</li>
<li><code class="docutils literal"><span class="pre">possible_moves(self)</span></code> : returns of all moves allowed</li>
<li><code class="docutils literal"><span class="pre">make_move(self,</span> <span class="pre">move)</span></code>: transforms the game according to the move</li>
<li><code class="docutils literal"><span class="pre">is_over(self)</span></code>: check whether the game has ended</li>
</ul>
</div></blockquote>
<p>The following methods are optional:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">show(self)</span></code> : prints/displays the game</li>
<li><code class="docutils literal"><span class="pre">scoring</span></code>: gives a score to the current game (for the AI)</li>
<li><code class="docutils literal"><span class="pre">unmake_move(self,</span> <span class="pre">move)</span></code>: how to unmake a move (speeds up the AI)</li>
<li><code class="docutils literal"><span class="pre">ttentry(self)</span></code>: returns a string/tuple describing the game.</li>
<li><code class="docutils literal"><span class="pre">ttrestore(self,</span> <span class="pre">entry)</span></code>: use string/tuple from ttentry to restore a game.</li>
</ul>
</div></blockquote>
<p>The <code class="docutils literal"><span class="pre">__init__</span></code> method <em>must</em> do the following actions:</p>
<ul class="simple">
<li>Store <code class="docutils literal"><span class="pre">players</span></code> (which must be a list of two Players) into
self.players</li>
<li>Tell which player plays first with <code class="docutils literal"><span class="pre">self.nplayer</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">#</span> <span class="pre">or</span> <span class="pre">2</span></code></li>
</ul>
<p>When defining <code class="docutils literal"><span class="pre">possible_moves</span></code>, <code class="docutils literal"><span class="pre">scoring</span></code>, etc. you must keep in mind that you are in the scope of the <em>current player</em>. More precisely, a subclass of TwoPlayersGame has the following attributes that indicate whose turn it is. These attributes can be used but should not be overwritten:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">self.player</span></code> : the current Player (e.g. a <code class="docutils literal"><span class="pre">Human_Player()</span></code>).</li>
<li><code class="docutils literal"><span class="pre">self.opponent</span></code> :  the current Player&#8217;s opponent (Player).</li>
<li><code class="docutils literal"><span class="pre">self.nplayer</span></code>: the number (1 or 2) of the current player.</li>
<li><code class="docutils literal"><span class="pre">self.nopponent</span></code>: the number (1 or 2) of the opponent.</li>
<li><code class="docutils literal"><span class="pre">self.nmove</span></code>: How many moves have been played so far ?</li>
</ul>
</div></blockquote>
<p>To start a game you will write something like this</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">game</span> <span class="o">=</span> <span class="n">MyGame</span><span class="p">(</span><span class="n">players</span> <span class="o">=</span> <span class="p">[</span><span class="n">player_1</span><span class="p">,</span> <span class="n">player_2</span><span class="p">],</span> <span class="o">*</span><span class="n">other_arguments</span><span class="p">)</span>
<span class="n">history</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">play</span><span class="p">()</span> <span class="c1"># start the match !</span>
</pre></div>
</div>
<p>When the game ends it stores the history into the variable <code class="docutils literal"><span class="pre">history</span></code>. The history is a list <em>[(g1,m1),(g2,m2)...]</em> where <em>gi</em> is a copy of the game after i moves and <em>mi</em> is the move made by the player whose turn it was. So for instance:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">history</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
<span class="n">game8</span><span class="p">,</span> <span class="n">move8</span> <span class="o">=</span> <span class="n">history</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span>
<span class="n">game9</span><span class="p">,</span> <span class="n">move9</span> <span class="o">=</span> <span class="n">history</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span>
<span class="n">game8</span><span class="o">.</span><span class="n">make_move</span><span class="p">(</span> <span class="n">move8</span> <span class="p">)</span> <span class="c1"># Now  game8 and game9 are alike.</span>
</pre></div>
</div>
</div>
<div class="section" id="human-and-ai-players">
<h2>Human and AI players<a class="headerlink" href="#human-and-ai-players" title="Permalink to this headline">¶</a></h2>
<p>The players can be either a <code class="docutils literal"><span class="pre">Human_Player()</span></code> (which will be asked interactively which moves it wants to play) or a <code class="docutils literal"><span class="pre">AI_Player(algo)</span></code>, so you will have for instance</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">game</span> <span class="o">=</span> <span class="n">MyGame</span><span class="p">(</span> <span class="p">[</span> <span class="n">Human_Player</span><span class="p">(),</span> <span class="n">AI_Player</span><span class="p">(</span><span class="n">algo</span><span class="p">)</span> <span class="p">])</span>
</pre></div>
</div>
<p>If you are a human player you will be asked to enter a move when it is your turn. You can also enter <code class="docutils literal"><span class="pre">show</span> <span class="pre">moves</span></code> to have a list of all moves allowed, or <code class="docutils literal"><span class="pre">quit</span></code> to quit.</p>
<p>The variable <cite>algo</cite> is any function <code class="docutils literal"><span class="pre">f(game)-&gt;move</span></code>. It can be an algorithm that determines the best move by thinking N turns in advance:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">easyAI</span> <span class="k">import</span> <span class="n">AI_Player</span><span class="p">,</span> <span class="n">Negamax</span>
<span class="n">ai_player</span> <span class="o">=</span> <span class="n">AI_Player</span><span class="p">(</span> <span class="n">Negamax</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
<p>Or a transposition table (see below) filled in a previous game:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ai_player</span> <span class="o">=</span> <span class="n">AI_Player</span><span class="p">(</span> <span class="n">transpo_table</span> <span class="p">)</span>
</pre></div>
</div>
<p>The Negamax algorithm will always look for the shortest path to victory, or the longest path to defeat. It is possible to go faster by not optimizing this (the disadvantage being that the AI can then make <em>suicidal</em> moves if it has found that it will eventually lose against a perfect opponent). To do so, you must provide the argument <code class="docutils literal"><span class="pre">win_score</span></code> to Negamax which indicates above which score a score is considered a win. Keep in mind that the AI adds maluses to the score, so if your scoring function looks like this</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">scoring</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">game</span><span class="p">:</span> <span class="mi">100</span> <span class="k">if</span> <span class="n">game</span><span class="o">.</span><span class="n">win</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
</pre></div>
</div>
<p>you should write <code class="docutils literal"><span class="pre">Negamax(9,</span> <span class="pre">win_score=90)</span></code>.</p>
</div>
<div class="section" id="interactive-play">
<h2>Interactive Play<a class="headerlink" href="#interactive-play" title="Permalink to this headline">¶</a></h2>
<p>If you are needing to be more interactive with the game play, such as when integrating with other frameworks, you can use the <code class="docutils literal"><span class="pre">get_move</span></code> and <code class="docutils literal"><span class="pre">play_move</span></code> methods instead. <code class="docutils literal"><span class="pre">get_move</span></code> get&#8217;s an AI player&#8217;s decision. <code class="docutils literal"><span class="pre">play_move</span></code> executes a move (for either player).  To illustrate</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">game</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
</pre></div>
</div>
<p>is functionally the same as</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="ow">not</span> <span class="n">game</span><span class="o">.</span><span class="n">is_over</span><span class="p">():</span>
    <span class="n">game</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">game</span><span class="o">.</span><span class="n">nplayer</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>  <span class="c1"># we are assuming player 1 is a Human_Player</span>
        <span class="n">poss</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">possible_moves</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">move</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">poss</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">move</span><span class="p">))</span>
        <span class="n">index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;enter move: &quot;</span><span class="p">))</span>
        <span class="n">move</span> <span class="o">=</span> <span class="n">poss</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># we are assuming player 2 is an AI_Player</span>
        <span class="n">move</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">get_move</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;AI plays </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">move</span><span class="p">))</span>
    <span class="n">game</span><span class="o">.</span><span class="n">play_move</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="solving-a-game">
<h2>Solving a game<a class="headerlink" href="#solving-a-game" title="Permalink to this headline">¶</a></h2>
<p>You can try to solve a game (i.e. determine who will win if both players play perfectly and extract a winning strategy). There are two available algorithms to do so:</p>
<p><strong>id_solve</strong> solves a game using iterative deepening: it explores the game by using several times the Negamax algorithm, always starting at the initial state of the game, but taking increasing depth (in the list ai_depths) until the score of the initial condition indicates that the first player will certainly win or loose, at which case it stops:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">easyAI</span> <span class="k">import</span> <span class="n">id_solve</span>
<span class="n">r</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">m</span> <span class="o">=</span> <span class="n">id_solve</span><span class="p">(</span> <span class="n">MyGame</span><span class="p">,</span> <span class="n">ai_depths</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">20</span><span class="p">),</span> <span class="n">win_score</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the first argument can be either a game instance or a game class. We obtain <code class="docutils literal"><span class="pre">r=1</span></code>, meaning that if both players play perfectly, the first player to play can always win (-1 would have meant always lose), <code class="docutils literal"><span class="pre">d=10</span></code>, which means that the wins will be in ten moves (i.e. 5 moves per player) or less, and <code class="docutils literal"><span class="pre">m='3'</span></code>, which indicates that the first player&#8217;s first move should be <code class="docutils literal"><span class="pre">'3'</span></code>.</p>
<p><strong>df_solve</strong> solves a game using a depth-first search (therefore it cannot be used for games that can have an infinite number of moves). The game is explored until endgames are reached and these endgames are evaluated to see if their are victories or defeats (or draws). Then, a situation in which every move leads to a defeat is labelled as a (certain) defeat, and a situation in which one move leads to a (certain) defeat of the opponent is labelled as a (certain) victory. This way we come back up to the root (initial condition) which receives a label, which is returned.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">easyAI</span> <span class="k">import</span> <span class="n">df_solve</span>
<span class="n">game</span> <span class="o">=</span> <span class="n">MyGame</span><span class="p">(</span><span class="n">players</span> <span class="o">=</span> <span class="p">[</span><span class="o">...</span> <span class="p">,</span> <span class="o">...</span><span class="p">])</span> <span class="c1"># the players are not important</span>
<span class="n">tt</span> <span class="o">=</span> <span class="n">TT</span><span class="p">()</span> <span class="c1"># optional, will speed up the algo</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">df_solve</span><span class="p">(</span><span class="n">game</span><span class="p">,</span> <span class="n">winscore</span><span class="o">=</span> <span class="mi">90</span><span class="p">,</span> <span class="n">tt</span> <span class="o">=</span> <span class="n">tt</span><span class="p">)</span>
</pre></div>
</div>
<p>After this <code class="docutils literal"><span class="pre">r</span></code> is either -1 (certain defeat of the first player against a perfect opponent), 0 (it is possible to force a draw, but not to win), or 1 (certain victory if the first player plays perfectly).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.jpeg" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Get Started With easyAI</a><ul>
<li><a class="reference internal" href="#defining-a-game">Defining a game</a></li>
<li><a class="reference internal" href="#human-and-ai-players">Human and AI players</a></li>
<li><a class="reference internal" href="#interactive-play">Interactive Play</a></li>
<li><a class="reference internal" href="#solving-a-game">Solving a game</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="installation.html" title="previous chapter">Installation</a></li>
      <li>Next: <a href="examples/examples.html" title="next chapter">Examples Of Use</a></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/get_started.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; Copyright 2014-2017, Zulko.
    </div>
  </body>
</html>